
				
				
				// Spider web
				$('#container1').highcharts({ 
				    chart: {
				        polar: true,
				        type: 'line'
				    },
				    title: {
				        text: 'Open Access in Topic',
				        x: -80
				    },
				    pane: {
				    	size: '80%'
				    },
				    xAxis: {
				        categories: [
				        	<%BAROMETER_JSON["topics"].keys().each_with_index do |topic,index|%>
				        		<%="'#{topic}'#{(index==BAROMETER_JSON["topics"].keys().size-1 ? '': ',')}".html_safe%>
				        	<%end%>
				        		],
				        tickmarkPlacement: 'on',
				        lineWidth: 0
				    },  
				    yAxis: {
				        gridLineInterpolation: 'polygon',
				        lineWidth: 0,
				        min: 0
				    },
				    tooltip: {
				    	shared: true,
				        pointFormat: '<span style="color:{series.color}">{series.name}: <b>{point.y:,.0f}</b><br/>'
				    },
				    legend: {
				        align: 'right',
				        verticalAlign: 'top',
				        y: 70,
				        layout: 'vertical'
				    },
				    series: [
				    <%BAROMETER_JSON["sources"].keys().each_with_index do |source,index|%>
				    {
				    	name: <%="'#{source}'".html_safe%>,
				    	data: [
				    		<%BAROMETER_JSON["sources"][source]["topics"].keys().each_with_index do |topic,t_index|%>
				    			<%=BAROMETER_JSON["sources"][source]["topics"][topic]["oa"]%>
				    			<%="#{(BAROMETER_JSON["sources"][source]["topics"].keys().size-1 == t_index ? '' : ',')}"%>
				    		<%end%>
				    	],
				    	pointPlacement: 'on'
				    }<%="#{(BAROMETER_JSON["sources"].keys().size-1 == index ? '' : ',')}"%>
				    <%end%>
				    ]
				}); // container1 chart
			
				$('#container2').highcharts({ 
				    chart: {
				        polar: true,
				        type: 'line'
				    },
				    title: {
				        text: 'Non-Publications in Topic',
				        x: -80
				    },
				    pane: {
				    	size: '80%'
				    },
				    xAxis: {
				        categories: [
				        	<%BAROMETER_JSON["topics"].keys().each_with_index do |topic,index|%>
				        		<%="'#{topic}'#{(index==BAROMETER_JSON["topics"].keys().size-1 ? '': ',')}".html_safe%>
				        	<%end%>
				        		],
				        tickmarkPlacement: 'on',
				        lineWidth: 0
				    },  
				    yAxis: {
				        gridLineInterpolation: 'polygon',
				        lineWidth: 0,
				        min: 0
				    },
				    tooltip: {
				    	shared: true,
				        pointFormat: '<span style="color:{series.color}">{series.name}: <b>{point.y:,.0f}</b><br/>'
				    },
				    legend: {
				        align: 'right',
				        verticalAlign: 'top',
				        y: 70,
				        layout: 'vertical'
				    },
				    series: [
				    <%BAROMETER_JSON["sources"].keys().each_with_index do |source,index|%>
				    {
				    	name: <%="'#{source}'".html_safe%>,
				    	data: [
				    		<%BAROMETER_JSON["sources"][source]["topics"].keys().each_with_index do |topic,t_index|%>
				    			<%=BAROMETER_JSON["sources"][source]["topics"][topic]["non_oa"]%>
				    			<%="#{(BAROMETER_JSON["sources"][source]["topics"].keys().size-1 == t_index ? '' : ',')}"%>
				    		<%end%>
				    	],
				    	pointPlacement: 'on'
				    }<%="#{(BAROMETER_JSON["sources"].keys().size-1 == index ? '' : ',')}"%>
				    <%end%>
				    ]
				}); // container2 chart